<!DOCTYPE html><html lang=en> <head><meta charset=utf-8><meta name=viewport content="width=device-width, initial-scale=1.0"><title>reacnetgenerator.commandline &#8212; ReacNetGenerator documentation</title><script data-cfasync=false>
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script><!-- Loaded before other Sphinx assets --><link href="../../_static/styles/theme.css?digest=e353d410970836974a52" rel=stylesheet><link href="../../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel=stylesheet><link href="../../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel=stylesheet><link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel=stylesheet><link rel=preload as=font type=font/woff2 crossorigin href=../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2><link rel=preload as=font type=font/woff2 crossorigin href=../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2><link rel=preload as=font type=font/woff2 crossorigin href=../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2><link rel=stylesheet type=text/css href=../../_static/pygments.css><link rel=stylesheet type=text/css href=../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css><link rel=stylesheet type=text/css href=../../_static/css/custom.css><!-- Pre-loaded scripts that we'll load fully later --><link rel=preload as=script href="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52"><link rel=preload as=script href="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"><script data-url_root=../../ id=documentation_options src=../../_static/documentation_options.js></script><script src=../../_static/jquery.js></script><script src=../../_static/underscore.js></script><script src=../../_static/_sphinx_javascript_frameworks_compat.js></script><script src=../../_static/doctools.js></script><script src=../../_static/sphinx_highlight.js></script><script>DOCUMENTATION_OPTIONS.pagename = '_modules/reacnetgenerator/commandline';</script><script src=https://unpkg.com/bilitube@0/dist/bilitube.min.js></script><link rel=index title=Index href=../../genindex.html><link rel=search title=Search href=../../search.html><meta name=viewport content="width=device-width, initial-scale=1"><meta name=docsearch:language content=en></head> <body data-bs-spy=scroll data-bs-target=.bd-toc-nav data-offset=180 data-bs-root-margin="0px 0px -60%" data-default-mode> <a class=skip-link href=#main-content>Skip to main content</a> <input type=checkbox class=sidebar-toggle name=__primary id=__primary> <label class="overlay overlay-primary" for=__primary></label> <input type=checkbox class=sidebar-toggle name=__secondary id=__secondary> <label class="overlay overlay-secondary" for=__secondary></label> <div class=search-button__wrapper> <div class=search-button__overlay></div> <div class=search-button__search-container> <form class="bd-search d-flex align-items-center" action=../../search.html method=get> <i class="fa-solid fa-magnifying-glass"></i> <input type=search class=form-control name=q id=search-input placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete=off autocorrect=off autocapitalize=off spellcheck=false> <span class=search-button__kbd-shortcut><kbd class=kbd-shortcut__modifier>Ctrl</kbd>+<kbd>K</kbd></span> </form></div> </div> <nav class="bd-header navbar navbar-expand-lg bd-navbar"> <div class="bd-header__inner bd-page-width"> <label class="sidebar-toggle primary-toggle" for=__primary> <span class="fa-solid fa-bars"></span> </label> <div class=navbar-header-items__start> <div class=navbar-item> <a class="navbar-brand logo" href=../../index.html> <img src=../../_static/reacnetgen.svg class="logo__image only-light" alt=ReacNetGenerator> <script>document.write(`<img src="../../_static/reacnetgen.svg" class="logo__image only-dark" alt="ReacNetGenerator"/>`);</script> <p class="title logo__title">ReacNetGenerator</p> </a></div> </div> <div class="col-lg-9 navbar-header-items"> <div class="me-auto navbar-header-items__center"> <div class=navbar-item><nav class=navbar-nav> <p class=sidebar-header-items__title role=heading aria-level=1 aria-label="Site Navigation"> Site Navigation </p> <ul class="bd-navbar-elements navbar-nav"> <li class=nav-item> <a class="nav-link nav-internal" href=../../guide/index.html> User Guide </a> </li> <li class=nav-item> <a class="nav-link nav-internal" href=../../tutorial/index.html> Examples </a> </li> <li class=nav-item> <a class="nav-link nav-internal" href=../../develop.html> Development </a> </li> <li class=nav-item> <a class="nav-link nav-internal" href=../../external.html> More </a> </li> <li class=nav-item> <a class="nav-link nav-external" href=/report.html> Report Loader </a> </li> </ul> </nav></div> </div> <div class=navbar-header-items__end> <div class="navbar-item navbar-persistent--container"> <script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script> </div> <div class=navbar-item> <script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div> <div class=navbar-item><ul class="navbar-icon-links navbar-nav" aria-label="Icon Links"> <li class=nav-item> <a href=https://github.com/tongzhugroup/reacnetgenerator title=GitHub class=nav-link rel=noopener target=_blank data-bs-toggle=tooltip data-bs-placement=bottom><span><i class="fa-brands fa-square-github"></i></span> <label class=sr-only>GitHub</label></a> </li> <li class=nav-item> <a href=https://doi.org/10.1039/C9CP05091D title=Paper class=nav-link rel=noopener target=_blank data-bs-toggle=tooltip data-bs-placement=bottom><span><i class="fa-solid fa-book-open"></i></span> <label class=sr-only>Paper</label></a> </li> </ul></div> </div> </div> <div class=navbar-persistent--mobile> <script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script> </div> </div> </nav> <div class=bd-container> <div class="bd-container__inner bd-page-width"> <div class="bd-sidebar-primary bd-sidebar hide-on-wide"> <div class="sidebar-header-items sidebar-primary__section"> <div class=sidebar-header-items__center> <div class=navbar-item><nav class=navbar-nav> <p class=sidebar-header-items__title role=heading aria-level=1 aria-label="Site Navigation"> Site Navigation </p> <ul class="bd-navbar-elements navbar-nav"> <li class=nav-item> <a class="nav-link nav-internal" href=../../guide/index.html> User Guide </a> </li> <li class=nav-item> <a class="nav-link nav-internal" href=../../tutorial/index.html> Examples </a> </li> <li class=nav-item> <a class="nav-link nav-internal" href=../../develop.html> Development </a> </li> <li class=nav-item> <a class="nav-link nav-internal" href=../../external.html> More </a> </li> <li class=nav-item> <a class="nav-link nav-external" href=/report.html> Report Loader </a> </li> </ul> </nav></div> </div> <div class=sidebar-header-items__end> <div class=navbar-item> <script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div> <div class=navbar-item><ul class="navbar-icon-links navbar-nav" aria-label="Icon Links"> <li class=nav-item> <a href=https://github.com/tongzhugroup/reacnetgenerator title=GitHub class=nav-link rel=noopener target=_blank data-bs-toggle=tooltip data-bs-placement=bottom><span><i class="fa-brands fa-square-github"></i></span> <label class=sr-only>GitHub</label></a> </li> <li class=nav-item> <a href=https://doi.org/10.1039/C9CP05091D title=Paper class=nav-link rel=noopener target=_blank data-bs-toggle=tooltip data-bs-placement=bottom><span><i class="fa-solid fa-book-open"></i></span> <label class=sr-only>Paper</label></a> </li> </ul></div> </div> </div> <div class="sidebar-primary-items__end sidebar-primary__section"> </div> <div id=rtd-footer-container></div> </div> <main id=main-content class=bd-main> <div class=bd-content> <div class=bd-article-container> <div class=bd-header-article> <div class="header-article-items header-article__inner"> <div class=header-article-items__start> <div class=header-article-item> <nav aria-label=Breadcrumbs> <ul class=bd-breadcrumbs role=navigation aria-label=Breadcrumb> <li class="breadcrumb-item breadcrumb-home"> <a href=../../index.html class=nav-link aria-label=Home> <i class="fa-solid fa-home"></i> </a> </li> <li class=breadcrumb-item><a href=../index.html class=nav-link>Module code</a></li> <li class="breadcrumb-item active" aria-current=page>reacnetgenerator.commandline</li> </ul> </nav> </div> </div> </div> </div> <div id=searchbox></div> <article class=bd-article role=main> <h1>Source code for reacnetgenerator.commandline</h1><div class=highlight><pre>
<span></span><span class=c1># SPDX-License-Identifier: LGPL-3.0-or-later</span>
<span class=c1># cython: language_level=3</span>
<span class=c1># cython: linetrace=True</span>
<span class=sd>&quot;&quot;&quot;Command line interface for reacnetgenerator.&quot;&quot;&quot;</span>
<span class=kn>import</span> <span class=nn>argparse</span>
<span class=kn>import</span> <span class=nn>textwrap</span>
<span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>List</span>

<span class=kn>from</span> <span class=nn>.</span> <span class=kn>import</span> <span class=n>__version__</span>
<span class=kn>from</span> <span class=nn>._detect</span> <span class=kn>import</span> <span class=n>_Detect</span>


<div class=viewcode-block id=main_parser><a class=viewcode-back href=../../api/reacnetgenerator.html#reacnetgenerator.commandline.main_parser>[docs]</a><span class=k>def</span> <span class=nf>main_parser</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>argparse</span><span class=o>.</span><span class=n>ArgumentParser</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return main parser.</span>

<span class=sd>    Returns</span>
<span class=sd>    -------</span>
<span class=sd>    argparse.ArgumentParser</span>
<span class=sd>        reacnetgenerator cli parser</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>parser</span> <span class=o>=</span> <span class=n>argparse</span><span class=o>.</span><span class=n>ArgumentParser</span><span class=p>(</span>
        <span class=n>description</span><span class=o>=</span><span class=s2>&quot;ReacNetGenerator is an automatic reaction network generator for reactive molecular dynamics simulation.&quot;</span><span class=p>,</span>
        <span class=n>formatter_class</span><span class=o>=</span><span class=n>argparse</span><span class=o>.</span><span class=n>ArgumentDefaultsHelpFormatter</span><span class=p>,</span>
        <span class=n>epilog</span><span class=o>=</span><span class=n>textwrap</span><span class=o>.</span><span class=n>dedent</span><span class=p>(</span>
<span class=w>            </span><span class=sd>&quot;&quot;&quot;\</span>
<span class=sd>        Examples:</span>
<span class=sd>            reacnetgenerator --type bond -i bonds.reaxc -a C H O --nohmm</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=p>),</span>
    <span class=p>)</span>
    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
        <span class=s2>&quot;-i&quot;</span><span class=p>,</span>
        <span class=s2>&quot;--inputfilename&quot;</span><span class=p>,</span>
        <span class=n>nargs</span><span class=o>=</span><span class=s2>&quot;*&quot;</span><span class=p>,</span>
        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Input trajectory file(s), e.g. bonds.reaxc; If multiple file are given, they are concatenated.&quot;</span><span class=p>,</span>
        <span class=n>required</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
    <span class=p>)</span>
    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
        <span class=s2>&quot;-a&quot;</span><span class=p>,</span>
        <span class=s2>&quot;--atomname&quot;</span><span class=p>,</span>
        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Atomic names in the trajectory, e.g. C H O&quot;</span><span class=p>,</span>
        <span class=n>nargs</span><span class=o>=</span><span class=s2>&quot;*&quot;</span><span class=p>,</span>
        <span class=n>required</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
    <span class=p>)</span>
    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
        <span class=s2>&quot;--nohmm&quot;</span><span class=p>,</span>
        <span class=n>help</span><span class=o>=</span><span class=p>(</span>
            <span class=s2>&quot;Process trajectory without Hidden Markov Model (HMM). If one wants to enable HMM, firstly &quot;</span>
            <span class=s2>&quot;read the related section in the paper&quot;</span>
        <span class=p>),</span>
        <span class=n>action</span><span class=o>=</span><span class=s2>&quot;store_true&quot;</span><span class=p>,</span>
    <span class=p>)</span>
    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span><span class=s2>&quot;--miso&quot;</span><span class=p>,</span> <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Merge the isomers&quot;</span><span class=p>,</span> <span class=nb>type</span><span class=o>=</span><span class=nb>int</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
        <span class=s2>&quot;--dump&quot;</span><span class=p>,</span>
        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;(deprecated) Process the LAMMPS dump file. Please use `--type dump` instead.&quot;</span><span class=p>,</span>
        <span class=n>action</span><span class=o>=</span><span class=s2>&quot;store_true&quot;</span><span class=p>,</span>
    <span class=p>)</span>
    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
        <span class=s2>&quot;--type&quot;</span><span class=p>,</span>
        <span class=s2>&quot;-t&quot;</span><span class=p>,</span>
        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Input file type&quot;</span><span class=p>,</span>
        <span class=n>choices</span><span class=o>=</span><span class=nb>list</span><span class=p>(</span><span class=n>_Detect</span><span class=o>.</span><span class=n>subclasses</span><span class=o>.</span><span class=n>keys</span><span class=p>()),</span>
        <span class=n>default</span><span class=o>=</span><span class=s2>&quot;lammpsbondfile&quot;</span><span class=p>,</span>
    <span class=p>)</span>
    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span><span class=s2>&quot;--nopbc&quot;</span><span class=p>,</span> <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Disable PBC.&quot;</span><span class=p>,</span> <span class=n>action</span><span class=o>=</span><span class=s2>&quot;store_true&quot;</span><span class=p>)</span>
    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
        <span class=s2>&quot;--cell&quot;</span><span class=p>,</span>
        <span class=s2>&quot;-c&quot;</span><span class=p>,</span>
        <span class=n>nargs</span><span class=o>=</span><span class=s2>&quot;+&quot;</span><span class=p>,</span>
        <span class=nb>type</span><span class=o>=</span><span class=nb>float</span><span class=p>,</span>
        <span class=n>help</span><span class=o>=</span><span class=p>(</span>
            <span class=s2>&quot;Cell information if PBC is enabled and the input file does not contain cell information. &quot;</span>
            <span class=s2>&quot;The cell information should be in 3x3 matrix format.&quot;</span>
        <span class=p>),</span>
    <span class=p>)</span>
    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
        <span class=s2>&quot;-n&quot;</span><span class=p>,</span>
        <span class=s2>&quot;-np&quot;</span><span class=p>,</span>
        <span class=s2>&quot;--nproc&quot;</span><span class=p>,</span>
        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Number of processes, by default using all processes&quot;</span><span class=p>,</span>
        <span class=nb>type</span><span class=o>=</span><span class=nb>int</span><span class=p>,</span>
    <span class=p>)</span>
    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
        <span class=s2>&quot;-s&quot;</span><span class=p>,</span>
        <span class=s2>&quot;--selectatoms&quot;</span><span class=p>,</span>
        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Select element(s) in the reaction network, e.g. C&quot;</span><span class=p>,</span>
        <span class=n>nargs</span><span class=o>=</span><span class=s2>&quot;*&quot;</span><span class=p>,</span>
    <span class=p>)</span>
    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
        <span class=s2>&quot;--stepinterval&quot;</span><span class=p>,</span>
        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Step interval, i.e. read every N step from the trajectory&quot;</span><span class=p>,</span>
        <span class=nb>type</span><span class=o>=</span><span class=nb>int</span><span class=p>,</span>
        <span class=n>default</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>
    <span class=p>)</span>
    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
        <span class=s2>&quot;--split&quot;</span><span class=p>,</span>
        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Split number for the time axis; the whole trajectroy will be splited into N parts for analysis&quot;</span><span class=p>,</span>
        <span class=nb>type</span><span class=o>=</span><span class=nb>int</span><span class=p>,</span>
        <span class=n>default</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>
    <span class=p>)</span>
    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
        <span class=s2>&quot;--maxspecies&quot;</span><span class=p>,</span>
        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Max number of nodes (species) in the network&quot;</span><span class=p>,</span>
        <span class=nb>type</span><span class=o>=</span><span class=nb>int</span><span class=p>,</span>
        <span class=n>default</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span>
    <span class=p>)</span>
    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
        <span class=s2>&quot;--matrixa&quot;</span><span class=p>,</span>
        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Transition matrix A of HMM parameters&quot;</span><span class=p>,</span>
        <span class=nb>type</span><span class=o>=</span><span class=nb>float</span><span class=p>,</span>
        <span class=n>nargs</span><span class=o>=</span><span class=mi>4</span><span class=p>,</span>
        <span class=n>default</span><span class=o>=</span><span class=p>[</span><span class=mf>0.999</span><span class=p>,</span> <span class=mf>0.001</span><span class=p>,</span> <span class=mf>0.001</span><span class=p>,</span> <span class=mf>0.999</span><span class=p>],</span>
    <span class=p>)</span>
    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
        <span class=s2>&quot;--matrixb&quot;</span><span class=p>,</span>
        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Emission matrix B of HMM parameters&quot;</span><span class=p>,</span>
        <span class=nb>type</span><span class=o>=</span><span class=nb>float</span><span class=p>,</span>
        <span class=n>nargs</span><span class=o>=</span><span class=mi>4</span><span class=p>,</span>
        <span class=n>default</span><span class=o>=</span><span class=p>[</span><span class=mf>0.6</span><span class=p>,</span> <span class=mf>0.4</span><span class=p>,</span> <span class=mf>0.4</span><span class=p>,</span> <span class=mf>0.6</span><span class=p>],</span>
    <span class=p>)</span>
    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
        <span class=s2>&quot;--urls&quot;</span><span class=p>,</span>
        <span class=n>action</span><span class=o>=</span><span class=s2>&quot;append&quot;</span><span class=p>,</span>
        <span class=n>nargs</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span>
        <span class=nb>type</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span>
        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Download files before analysis, in the format of `--urls filename url`&quot;</span><span class=p>,</span>
    <span class=p>)</span>
    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
        <span class=s2>&quot;--version&quot;</span><span class=p>,</span> <span class=n>action</span><span class=o>=</span><span class=s2>&quot;version&quot;</span><span class=p>,</span> <span class=n>version</span><span class=o>=</span><span class=s2>&quot;ReacNetGenerator v</span><span class=si>%s</span><span class=s2>&quot;</span> <span class=o>%</span> <span class=n>__version__</span>
    <span class=p>)</span>
    <span class=k>return</span> <span class=n>parser</span></div>


<span class=k>def</span> <span class=nf>_commandline</span><span class=p>():</span>
    <span class=n>parser</span> <span class=o>=</span> <span class=n>main_parser</span><span class=p>()</span>
    <span class=n>args</span> <span class=o>=</span> <span class=n>parser</span><span class=o>.</span><span class=n>parse_args</span><span class=p>()</span>
    <span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>

    <span class=kn>from</span> <span class=nn>.reacnetgen</span> <span class=kn>import</span> <span class=n>ReacNetGenerator</span>

    <span class=n>ReacNetGenerator</span><span class=p>(</span>
        <span class=n>inputfilename</span><span class=o>=</span><span class=n>args</span><span class=o>.</span><span class=n>inputfilename</span><span class=p>,</span>
        <span class=n>atomname</span><span class=o>=</span><span class=n>args</span><span class=o>.</span><span class=n>atomname</span><span class=p>,</span>
        <span class=n>miso</span><span class=o>=</span><span class=n>args</span><span class=o>.</span><span class=n>miso</span><span class=p>,</span>
        <span class=n>runHMM</span><span class=o>=</span><span class=ow>not</span> <span class=n>args</span><span class=o>.</span><span class=n>nohmm</span><span class=p>,</span>
        <span class=n>inputfiletype</span><span class=o>=</span><span class=p>(</span><span class=s2>&quot;lammpsdumpfile&quot;</span> <span class=k>if</span> <span class=n>args</span><span class=o>.</span><span class=n>dump</span> <span class=k>else</span> <span class=n>args</span><span class=o>.</span><span class=n>type</span><span class=p>),</span>
        <span class=n>nproc</span><span class=o>=</span><span class=n>args</span><span class=o>.</span><span class=n>nproc</span><span class=p>,</span>
        <span class=n>selectatoms</span><span class=o>=</span><span class=n>args</span><span class=o>.</span><span class=n>selectatoms</span><span class=p>,</span>
        <span class=n>stepinterval</span><span class=o>=</span><span class=n>args</span><span class=o>.</span><span class=n>stepinterval</span><span class=p>,</span>
        <span class=n>split</span><span class=o>=</span><span class=n>args</span><span class=o>.</span><span class=n>split</span><span class=p>,</span>
        <span class=n>maxspecies</span><span class=o>=</span><span class=n>args</span><span class=o>.</span><span class=n>maxspecies</span><span class=p>,</span>
        <span class=n>urls</span><span class=o>=</span><span class=p>[{</span><span class=s2>&quot;fn&quot;</span><span class=p>:</span> <span class=n>url</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=s2>&quot;url&quot;</span><span class=p>:</span> <span class=n>url</span><span class=p>[</span><span class=mi>1</span><span class=p>]}</span> <span class=k>for</span> <span class=n>url</span> <span class=ow>in</span> <span class=n>args</span><span class=o>.</span><span class=n>urls</span><span class=p>]</span>
        <span class=k>if</span> <span class=n>args</span><span class=o>.</span><span class=n>urls</span>
        <span class=k>else</span> <span class=kc>None</span><span class=p>,</span>
        <span class=n>a</span><span class=o>=</span><span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>(</span><span class=n>args</span><span class=o>.</span><span class=n>matrixa</span><span class=p>)</span><span class=o>.</span><span class=n>reshape</span><span class=p>((</span><span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>)),</span>
        <span class=n>b</span><span class=o>=</span><span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>(</span><span class=n>args</span><span class=o>.</span><span class=n>matrixb</span><span class=p>)</span><span class=o>.</span><span class=n>reshape</span><span class=p>((</span><span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>)),</span>
        <span class=n>pbc</span><span class=o>=</span><span class=ow>not</span> <span class=n>args</span><span class=o>.</span><span class=n>nopbc</span><span class=p>,</span>
        <span class=n>cell</span><span class=o>=</span><span class=n>args</span><span class=o>.</span><span class=n>cell</span><span class=p>,</span>
    <span class=p>)</span><span class=o>.</span><span class=n>runanddraw</span><span class=p>()</span>


<div class=viewcode-block id=parm2cmd><a class=viewcode-back href=../../api/reacnetgenerator.html#reacnetgenerator.commandline.parm2cmd>[docs]</a><span class=k>def</span> <span class=nf>parm2cmd</span><span class=p>(</span><span class=n>pp</span><span class=p>:</span> <span class=nb>dict</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Convert a parameter dictionary to command line arguments.</span>

<span class=sd>    Parameters</span>
<span class=sd>    ----------</span>
<span class=sd>    pp : dict</span>
<span class=sd>        Parameter dictionary</span>

<span class=sd>    Returns</span>
<span class=sd>    -------</span>
<span class=sd>    List[str]</span>
<span class=sd>        Command line arguments</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>commands</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;reacnetgenerator&quot;</span><span class=p>,</span> <span class=s2>&quot;-i&quot;</span><span class=p>,</span> <span class=n>pp</span><span class=p>[</span><span class=s2>&quot;inputfilename&quot;</span><span class=p>],</span> <span class=s2>&quot;-a&quot;</span><span class=p>,</span> <span class=o>*</span><span class=n>pp</span><span class=p>[</span><span class=s2>&quot;atomname&quot;</span><span class=p>]]</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>pp</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;runHMM&quot;</span><span class=p>,</span> <span class=kc>True</span><span class=p>):</span>
        <span class=n>commands</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s2>&quot;--nohmm&quot;</span><span class=p>)</span>
    <span class=k>if</span> <span class=n>pp</span><span class=p>[</span><span class=s2>&quot;inputfiletype&quot;</span><span class=p>]:</span>
        <span class=n>commands</span><span class=o>.</span><span class=n>extend</span><span class=p>((</span><span class=s2>&quot;--type&quot;</span><span class=p>,</span> <span class=n>pp</span><span class=p>[</span><span class=s2>&quot;inputfiletype&quot;</span><span class=p>]))</span>
    <span class=k>if</span> <span class=n>pp</span><span class=p>[</span><span class=s2>&quot;atomname&quot;</span><span class=p>]:</span>
        <span class=n>commands</span><span class=o>.</span><span class=n>extend</span><span class=p>((</span><span class=s2>&quot;-s&quot;</span><span class=p>,</span> <span class=n>pp</span><span class=p>[</span><span class=s2>&quot;atomname&quot;</span><span class=p>][</span><span class=mi>0</span><span class=p>]))</span>
    <span class=k>if</span> <span class=n>pp</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;urls&quot;</span><span class=p>,</span> <span class=p>[]):</span>
        <span class=n>commands</span><span class=o>.</span><span class=n>extend</span><span class=p>((</span><span class=s2>&quot;--urls&quot;</span><span class=p>,</span> <span class=n>pp</span><span class=p>[</span><span class=s2>&quot;urls&quot;</span><span class=p>][</span><span class=mi>0</span><span class=p>][</span><span class=s2>&quot;fn&quot;</span><span class=p>],</span> <span class=n>pp</span><span class=p>[</span><span class=s2>&quot;urls&quot;</span><span class=p>][</span><span class=mi>0</span><span class=p>][</span><span class=s2>&quot;url&quot;</span><span class=p>][</span><span class=mi>0</span><span class=p>]))</span>
    <span class=k>if</span> <span class=n>pp</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;a&quot;</span><span class=p>,</span> <span class=p>[]):</span>
        <span class=n>commands</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span>
            <span class=p>(</span>
                <span class=s2>&quot;--matrixa&quot;</span><span class=p>,</span>
                <span class=nb>str</span><span class=p>(</span><span class=n>pp</span><span class=p>[</span><span class=s2>&quot;a&quot;</span><span class=p>][</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>]),</span>
                <span class=nb>str</span><span class=p>(</span><span class=n>pp</span><span class=p>[</span><span class=s2>&quot;a&quot;</span><span class=p>][</span><span class=mi>0</span><span class=p>][</span><span class=mi>1</span><span class=p>]),</span>
                <span class=nb>str</span><span class=p>(</span><span class=n>pp</span><span class=p>[</span><span class=s2>&quot;a&quot;</span><span class=p>][</span><span class=mi>1</span><span class=p>][</span><span class=mi>0</span><span class=p>]),</span>
                <span class=nb>str</span><span class=p>(</span><span class=n>pp</span><span class=p>[</span><span class=s2>&quot;a&quot;</span><span class=p>][</span><span class=mi>1</span><span class=p>][</span><span class=mi>1</span><span class=p>]),</span>
            <span class=p>)</span>
        <span class=p>)</span>
    <span class=k>if</span> <span class=n>pp</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;b&quot;</span><span class=p>,</span> <span class=p>[]):</span>
        <span class=n>commands</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span>
            <span class=p>(</span>
                <span class=s2>&quot;--matrixb&quot;</span><span class=p>,</span>
                <span class=nb>str</span><span class=p>(</span><span class=n>pp</span><span class=p>[</span><span class=s2>&quot;b&quot;</span><span class=p>][</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>]),</span>
                <span class=nb>str</span><span class=p>(</span><span class=n>pp</span><span class=p>[</span><span class=s2>&quot;b&quot;</span><span class=p>][</span><span class=mi>0</span><span class=p>][</span><span class=mi>1</span><span class=p>]),</span>
                <span class=nb>str</span><span class=p>(</span><span class=n>pp</span><span class=p>[</span><span class=s2>&quot;b&quot;</span><span class=p>][</span><span class=mi>1</span><span class=p>][</span><span class=mi>0</span><span class=p>]),</span>
                <span class=nb>str</span><span class=p>(</span><span class=n>pp</span><span class=p>[</span><span class=s2>&quot;b&quot;</span><span class=p>][</span><span class=mi>1</span><span class=p>][</span><span class=mi>1</span><span class=p>]),</span>
            <span class=p>)</span>
        <span class=p>)</span>
    <span class=k>if</span> <span class=n>pp</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;cell&quot;</span><span class=p>,</span> <span class=p>[]):</span>
        <span class=n>commands</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span>
            <span class=p>(</span><span class=s2>&quot;--cell&quot;</span><span class=p>,</span> <span class=nb>str</span><span class=p>(</span><span class=n>pp</span><span class=p>[</span><span class=s2>&quot;cell&quot;</span><span class=p>][</span><span class=mi>0</span><span class=p>]),</span> <span class=nb>str</span><span class=p>(</span><span class=n>pp</span><span class=p>[</span><span class=s2>&quot;cell&quot;</span><span class=p>][</span><span class=mi>1</span><span class=p>]),</span> <span class=nb>str</span><span class=p>(</span><span class=n>pp</span><span class=p>[</span><span class=s2>&quot;cell&quot;</span><span class=p>][</span><span class=mi>2</span><span class=p>]))</span>
        <span class=p>)</span>
    <span class=k>for</span> <span class=n>ii</span> <span class=ow>in</span> <span class=p>[</span><span class=s2>&quot;nproc&quot;</span><span class=p>,</span> <span class=s2>&quot;selectatoms&quot;</span><span class=p>,</span> <span class=s2>&quot;stepinterval&quot;</span><span class=p>,</span> <span class=s2>&quot;split&quot;</span><span class=p>,</span> <span class=s2>&quot;maxspecies&quot;</span><span class=p>]:</span>
        <span class=k>if</span> <span class=n>pp</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>ii</span><span class=p>,</span> <span class=kc>None</span><span class=p>):</span>
            <span class=n>commands</span><span class=o>.</span><span class=n>extend</span><span class=p>((</span><span class=sa>f</span><span class=s2>&quot;--</span><span class=si>{</span><span class=n>ii</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=nb>str</span><span class=p>(</span><span class=n>pp</span><span class=p>[</span><span class=n>ii</span><span class=p>])))</span>
    <span class=k>return</span> <span class=n>commands</span></div>
</pre></div> </article> <footer class=bd-footer-article> <div class="footer-article-items footer-article__inner"> <div class=footer-article-item><!-- Previous / next buttons --> <div class=prev-next-area> </div></div> </div> </footer> </div> </div> <footer class=bd-footer-content> </footer> </main> </div> </div> <!-- Scripts loaded after <body> so the DOM is not blocked --> <script src="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script> <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script> <footer class=bd-footer> <div class="bd-footer__inner bd-page-width"> <div class=footer-items__start> <div class=footer-item> <p class=copyright> Â© Copyright 2019-2023, East China Normal University. <br> </p> </div> <div class=footer-item> <p class=sphinx-version> Created using <a href=https://www.sphinx-doc.org/ >Sphinx</a> 5.3.0. <br> </p> </div> </div> <div class=footer-items__end> <div class=footer-item><p class=theme-version> Built with the <a href=https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html>PyData Sphinx Theme</a> 0.13.3. </p></div> </div> </div> </footer> </body> </html>